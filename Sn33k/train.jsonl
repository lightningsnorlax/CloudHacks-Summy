{"id": "d434a5f50e88-0", "text": "<!doctype html>\n<html lang=\"en\" dir=\"ltr\" class=\"docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-use_cases/question_answering/index\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"generator\" content=\"Docusaurus v2.4.0\">", "source": "websites\\index.html"}
{"id": "d434a5f50e88-1", "text": "<title data-rh=\"true\">QA over Documents | \ud83e\udd9c\ufe0f\ud83d\udd17 Langchain</title><meta data-rh=\"true\" name=\"viewport\" content=\"width=device-width,initial-scale=1\"><meta data-rh=\"true\" name=\"twitter:card\" content=\"summary_large_image\"><meta data-rh=\"true\" property=\"og:image\" content=\"https://python.langchain.com/img/parrot-chainlink-icon.png\"><meta data-rh=\"true\" name=\"twitter:image\" content=\"https://python.langchain.com/img/parrot-chainlink-icon.png\"><meta data-rh=\"true\" property=\"og:url\" content=\"https://python.langchain.com/docs/use_cases/question_answering/\"><meta data-rh=\"true\" name=\"docusaurus_locale\" content=\"en\"><meta data-rh=\"true\" name=\"docsearch:language\" content=\"en\"><meta data-rh=\"true\" name=\"docusaurus_version\" content=\"current\"><meta data-rh=\"true\" name=\"docusaurus_tag\" content=\"docs-default-current\"><meta data-rh=\"true\" name=\"docsearch:version\" content=\"current\"><meta data-rh=\"true\" name=\"docsearch:docusaurus_tag\" content=\"docs-default-current\"><meta data-rh=\"true\" property=\"og:title\" content=\"QA over Documents | \ud83e\udd9c\ufe0f\ud83d\udd17 Langchain\"><meta data-rh=\"true\" name=\"description\" content=\"Use case\"><meta data-rh=\"true\" property=\"og:description\" content=\"Use case\"><link data-rh=\"true\" rel=\"icon\" href=\"/img/favicon.ico\"><link data-rh=\"true\" rel=\"canonical\" href=\"https://python.langchain.com/docs/use_cases/question_answering/\"><link data-rh=\"true\" rel=\"alternate\" href=\"https://python.langchain.com/docs/use_cases/question_answering/\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-2", "text": "rel=\"alternate\" href=\"https://python.langchain.com/docs/use_cases/question_answering/\" hreflang=\"en\"><link data-rh=\"true\" rel=\"alternate\" href=\"https://python.langchain.com/docs/use_cases/question_answering/\" hreflang=\"x-default\"><link rel=\"stylesheet\" href=\"/assets/css/styles.129f27fa.css\">", "source": "websites\\index.html"}
{"id": "d434a5f50e88-3", "text": "<link rel=\"preload\" href=\"/assets/js/runtime~main.28f57478.js\" as=\"script\">\n<link rel=\"preload\" href=\"/assets/js/main.b8aa3676.js\" as=\"script\">\n</head>\n<body class=\"navigation-with-keyboard\">\n<script>!function(){function t(t){document.documentElement.setAttribute(\"data-theme\",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get(\"docusaurus-theme\")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem(\"theme\")}catch(t){}return t}();t(null!==e?e:\"light\")}()</script><div id=\"__docusaurus\">", "source": "websites\\index.html"}
{"id": "d434a5f50e88-4", "text": "<div role=\"region\" aria-label=\"Skip to main content\"><a class=\"skipToContent_fXgn\" href=\"#docusaurus_skipToContent_fallback\">Skip to main content</a></div><nav aria-label=\"Main\" class=\"navbar navbar--fixed-top\"><div class=\"navbar__inner\"><div class=\"navbar__items\"><button aria-label=\"Toggle navigation bar\" aria-expanded=\"false\" class=\"navbar__toggle clean-btn\" type=\"button\"><svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" aria-hidden=\"true\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" d=\"M4 7h22M4 15h22M4 23h22\"></path></svg></button><a class=\"navbar__brand\" href=\"/\"><b class=\"navbar__title text--truncate\">\ud83e\udd9c\ufe0f\ud83d\udd17 LangChain</b></a><a class=\"navbar__item navbar__link\" href=\"/docs/get_started/introduction\">Docs</a><a aria-current=\"page\" class=\"navbar__item navbar__link navbar__link--active\" href=\"/docs/use_cases\">Use cases</a><a class=\"navbar__item navbar__link\" href=\"/docs/integrations\">Integrations</a><a href=\"https://api.python.langchain.com\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"navbar__item navbar__link\">API<svg width=\"13.5\" height=\"13.5\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035", "source": "websites\\index.html"}
{"id": "d434a5f50e88-5", "text": "4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"></path></svg></a></div><div class=\"navbar__items navbar__items--right\"><a href=\"https://smith.langchain.com\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"navbar__item navbar__link\">LangSmith</a><a href=\"https://js.langchain.com/docs\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"navbar__item navbar__link\">JS/TS Docs</a><a href=\"https://github.com/hwchase17/langchain\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"navbar__item navbar__link header-github-link\" aria-label=\"GitHub repository\"></a><div class=\"toggle_vylO colorModeToggle_DEke\"><button class=\"clean-btn toggleButton_gllP toggleButtonDisabled_aARS\" type=\"button\" disabled=\"\" title=\"Switch between dark and light mode (currently light mode)\" aria-label=\"Switch between dark and light mode (currently light mode)\" aria-live=\"polite\"><svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" class=\"lightToggleIcon_pyhR\"><path fill=\"currentColor\" d=\"M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z", "source": "websites\\index.html"}
{"id": "d434a5f50e88-6", "text": "S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95", "source": "websites\\index.html"}
{"id": "d434a5f50e88-7", "text": "M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z\"></path></svg><svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" class=\"darkToggleIcon_wfgR\"><path fill=\"currentColor\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-8", "text": "height=\"24\" class=\"darkToggleIcon_wfgR\"><path fill=\"currentColor\" d=\"M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z\"></path></svg></button></div><div class=\"searchBox_ZlJk\"><div class=\"mendable-search\"><button class=\"ms-global search-btn__input ms-m-0 ms-flex ms-h-10 ms-w-full ms-flex-row ms-items-center ms-justify-between ms-gap-2 ms-rounded-xl ms-bg-gray-50 ms-p-1 ms-pl-2 ms-pr-1 ms-shadow ms-outline-none", "source": "websites\\index.html"}
{"id": "d434a5f50e88-9", "text": "ms-p-1 ms-pl-2 ms-pr-1 ms-shadow ms-outline-none ms-ring-0 ms-transition-all hover:ms-cursor-pointer hover:ms-shadow-md sm:ms-p-2 sm:ms-pl-4 sm:ms-pr-2\"><div class=\"ms-global search-btn__input-container ms-flex ms-w-full ms-min-w-0 ms-items-center ms-gap-1\"><svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 24 24\" class=\"search-btn__icon hover:fill-white ms-h-5 ms-w-5 ms-fill-gray-400 ms-text-gray-400 hover:ms-text-white focus:ms-fill-white focus:ms-text-white sm:ms-h-6 sm:ms-w-6\" height=\"20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" d=\"M0 0h24v24H0z\"></path><path d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg><input readonly=\"\" id=\"userInput\" name=\"userInput\" maxlength=\"512\" placeholder=\"Search...\" class=\"ms-global search-btn__input ms-w-full", "source": "websites\\index.html"}
{"id": "d434a5f50e88-10", "text": "maxlength=\"512\" placeholder=\"Search...\" class=\"ms-global search-btn__input ms-w-full ms-flex-grow ms-truncate ms-bg-transparent ms-text-sm ms-outline-none ms-ring-0 ms-ring-transparent hover:ms-cursor-text focus:ms-outline-none focus:ms-ring-0 focus:ms-ring-transparent sm:ms-text-base\"></div><div class=\"search-btn__shortcut ms-z-10 ms-flex ms-flex-row ms-items-center ms-gap-1 ms-rounded-lg ms-border ms-py-[2px] ms-px-[8px] ms-text-xs ms-text-gray-400 ms-transition-all disabled:ms-bg-opacity-10\"><span>CTRL</span><span>K</span></div></button><div></div></div></div></div></div><div role=\"presentation\" class=\"navbar-sidebar__backdrop\"></div></nav><div id=\"docusaurus_skipToContent_fallback\" class=\"main-wrapper mainWrapper_z2l0 docsWrapper_BCFX\"><button aria-label=\"Scroll back to top\" class=\"clean-btn theme-back-to-top-button backToTopButton_sjWU\" type=\"button\"></button><div class=\"docPage__5DB\"><aside class=\"theme-doc-sidebar-container docSidebarContainer_b6E3\"><div class=\"sidebarViewport_Xe31\"><div class=\"sidebar_njMd\"><nav aria-label=\"Docs sidebar\" class=\"menu thin-scrollbar menu_SIkG\"><ul class=\"theme-doc-sidebar-menu menu__list\"><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--active\" href=\"/docs/use_cases\">Use cases</a></div><ul style=\"display:block;overflow:visible;height:auto\" class=\"menu__list\"><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2", "source": "websites\\index.html"}
{"id": "d434a5f50e88-11", "text": "class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item\"><div class=\"menu__list-item-collapsible menu__list-item-collapsible--active\"><a class=\"menu__link menu__link--sublist menu__link--active\" aria-current=\"page\" aria-expanded=\"true\" tabindex=\"0\" href=\"/docs/use_cases/question_answering/\">QA over Documents</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;QA over Documents&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div><ul style=\"display:block;overflow:visible;height:auto\" class=\"menu__list\"><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist menu__link--sublist-caret\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/question_answering/how_to/vector_db_qa\">How to</a></div></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist menu__link--sublist-caret\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/question_answering/integrations/openai_functions_retrieval_qa\">Integration-specific</a></div></li></ul></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-12", "text": "menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/tabular/\">Analyzing structured data</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Analyzing structured data&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/apis/\">Interacting with APIs</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Interacting with APIs&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/code/\">Code understanding</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Code understanding&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/agent_simulations/\">Agent simulations</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Agent simulations&#x27;\" type=\"button\" class=\"clean-btn", "source": "websites\\index.html"}
{"id": "d434a5f50e88-13", "text": "sidebar category &#x27;Agent simulations&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/agents/\">Agents</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Agents&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/autonomous_agents/\">Autonomous (long-running) agents</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Autonomous (long-running) agents&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div></li><li class=\"theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item\"><a class=\"menu__link\" tabindex=\"0\" href=\"/docs/use_cases/chatbots\">Chatbots</a></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/code_writing/\">Code writing</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Code", "source": "websites\\index.html"}
{"id": "d434a5f50e88-14", "text": "writing</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Code writing&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div></li><li class=\"theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item\"><a class=\"menu__link\" tabindex=\"0\" href=\"/docs/use_cases/extraction\">Extraction</a></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/graph/\">Analyzing graph data</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Analyzing graph data&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist menu__link--sublist-caret\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/multi_modal/image_agent\">Multi-modal</a></div></li><li class=\"theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed\"><div class=\"menu__list-item-collapsible\"><a class=\"menu__link menu__link--sublist\" aria-expanded=\"false\" tabindex=\"0\" href=\"/docs/use_cases/self_check/\">Self-checking</a><button aria-label=\"Toggle the collapsible sidebar category &#x27;Self-checking&#x27;\" type=\"button\" class=\"clean-btn", "source": "websites\\index.html"}
{"id": "d434a5f50e88-15", "text": "category &#x27;Self-checking&#x27;\" type=\"button\" class=\"clean-btn menu__caret\"></button></div></li><li class=\"theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item\"><a class=\"menu__link\" tabindex=\"0\" href=\"/docs/use_cases/summarization\">Summarization</a></li><li class=\"theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item\"><a class=\"menu__link\" tabindex=\"0\" href=\"/docs/use_cases/tagging\">Tagging</a></li></ul></li></ul></nav><button type=\"button\" title=\"Collapse sidebar\" aria-label=\"Collapse sidebar\" class=\"button button--secondary button--outline collapseSidebarButton_PEFL\"><svg width=\"20\" height=\"20\" aria-hidden=\"true\" class=\"collapseSidebarButtonIcon_kv0_\"><g fill=\"#7a7a7a\"><path d=\"M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0\"></path><path d=\"M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0", "source": "websites\\index.html"}
{"id": "d434a5f50e88-16", "text": "7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0\"></path></g></svg></button></div></div></aside><main class=\"docMainContainer_gTbr\"><div class=\"container padding-top--md padding-bottom--lg\"><div class=\"row\"><div class=\"col docItemCol_VOVn\"><div class=\"docItemContainer_Djhp\"><article><nav class=\"theme-doc-breadcrumbs breadcrumbsContainer_Z_bl\" aria-label=\"Breadcrumbs\"><ul class=\"breadcrumbs\" itemscope=\"\" itemtype=\"https://schema.org/BreadcrumbList\"><li class=\"breadcrumbs__item\"><a aria-label=\"Home page\" class=\"breadcrumbs__link\" href=\"/\"><svg viewBox=\"0 0 24 24\" class=\"breadcrumbHomeIcon_YNFT\"><path d=\"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55", "source": "websites\\index.html"}
{"id": "d434a5f50e88-17", "text": ".55.45 1 1 1h3c.55 0 1-.45 1-1z\" fill=\"currentColor\"></path></svg></a></li><li itemscope=\"\" itemprop=\"itemListElement\" itemtype=\"https://schema.org/ListItem\" class=\"breadcrumbs__item\"><a class=\"breadcrumbs__link\" itemprop=\"item\" href=\"/docs/use_cases\"><span itemprop=\"name\">Use cases</span></a><meta itemprop=\"position\" content=\"1\"></li><li itemscope=\"\" itemprop=\"itemListElement\" itemtype=\"https://schema.org/ListItem\" class=\"breadcrumbs__item breadcrumbs__item--active\"><span class=\"breadcrumbs__link\" itemprop=\"name\">QA over Documents</span><meta itemprop=\"position\" content=\"2\"></li></ul></nav><div class=\"tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo\"><button type=\"button\" class=\"clean-btn tocCollapsibleButton_TO0P\">On this page</button></div><div class=\"theme-doc-markdown markdown\"><h1>QA over Documents</h1><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"use-case\">Use case<a href=\"#use-case\" class=\"hash-link\" aria-label=\"Direct link to Use case\" title=\"Direct link to Use case\">\u200b</a></h2><p>Suppose you have some text documents (PDF, blog, Notion pages, etc.) and want to ask questions related to the contents of those documents. LLMs, given their proficiency in understanding text, are a great tool for this.</p><p>In this walkthrough we&#x27;ll go over how to build a question-answering over documents application using LLMs. Two very related use cases which we cover elsewhere are:</p><ul><li><a href=\"/docs/use_cases/tabular\">QA over structured", "source": "websites\\index.html"}
{"id": "d434a5f50e88-18", "text": "are:</p><ul><li><a href=\"/docs/use_cases/tabular\">QA over structured data</a> (e.g., SQL)</li><li><a href=\"/docs/use_cases/code\">QA over code</a> (e.g., Python)</li></ul><p><img loading=\"lazy\" alt=\"intro.png\" src=\"/assets/images/qa_intro-9b468dbffe1cbe7f0bd822b28648db9e.png\" width=\"1393\" height=\"697\" class=\"img_ev3q\"></p><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"overview\">Overview<a href=\"#overview\" class=\"hash-link\" aria-label=\"Direct link to Overview\" title=\"Direct link to Overview\">\u200b</a></h2><p>The pipeline for converting raw unstructured data into a QA chain looks like this:</p><ol><li><code>Loading</code>: First we need to load our data. Unstructured data can be loaded from many sources. Use the <a href=\"https://integrations.langchain.com/\" target=\"_blank\" rel=\"noopener noreferrer\">LangChain integration hub</a> to browse the full set of loaders.", "source": "websites\\index.html"}
{"id": "d434a5f50e88-19", "text": "Each loader returns data as a LangChain <a href=\"https://docs.langchain.com/docs/components/schema/document\" target=\"_blank\" rel=\"noopener noreferrer\"><code>Document</code></a>.</li><li><code>Splitting</code>: <a href=\"/docs/modules/data_connection/document_transformers/\">Text splitters</a> break <code>Documents</code> into splits of specified size</li><li><code>Storage</code>: Storage (e.g., often a <a href=\"/docs/modules/data_connection/vectorstores/\">vectorstore</a>) will house <a href=\"https://www.pinecone.io/learn/vector-embeddings/\" target=\"_blank\" rel=\"noopener noreferrer\">and often embed</a> the splits</li><li><code>Retrieval</code>: The app retrieves splits from storage (e.g., often <a href=\"https://www.pinecone.io/learn/k-nearest-neighbor/\" target=\"_blank\" rel=\"noopener noreferrer\">with similar embeddings</a> to the input question)</li><li><code>Generation</code>: An <a href=\"/docs/modules/model_io/models/llms/\">LLM</a> produces an answer using a prompt that includes the question and the retrieved data</li><li><code>Conversation</code> (Extension): Hold a multi-turn conversation by adding <a href=\"/docs/modules/memory/\">Memory</a> to your QA chain.</li></ol><p><img loading=\"lazy\" alt=\"flow.jpeg\" src=\"/assets/images/qa_flow-9fbd91de9282eb806bda1c6db501ecec.jpeg\" width=\"2468\" height=\"707\" class=\"img_ev3q\"></p><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"quickstart\">Quickstart<a href=\"#quickstart\" class=\"hash-link\" aria-label=\"Direct link to", "source": "websites\\index.html"}
{"id": "d434a5f50e88-20", "text": "href=\"#quickstart\" class=\"hash-link\" aria-label=\"Direct link to Quickstart\" title=\"Direct link to Quickstart\">\u200b</a></h2><p>To give you a sneak preview, the above pipeline can be all be wrapped in a single object: <code>VectorstoreIndexCreator</code>. Suppose we want a QA app over this <a href=\"https://lilianweng.github.io/posts/2023-06-23-agent/\" target=\"_blank\" rel=\"noopener noreferrer\">blog post</a>. We can create this in a few lines of code:</p><p>First set environment variables and install packages:</p><div class=\"language-bash codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">pip </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">install</span><span class=\"token plain\"> openai chromadb</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token builtin class-name\" style=\"color:rgb(38, 127, 153)\">export</span><span class=\"token plain\"> </span><span class=\"token assign-left variable\" style=\"color:rgb(9, 134, 88)\">OPENAI_API_KEY</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-21", "text": "0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;...&quot;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>Then run:</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span", "source": "websites\\index.html"}
{"id": "d434a5f50e88-22", "text": "thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">document_loaders </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> WebBaseLoader</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">indexes </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> VectorstoreIndexCreator</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">loader </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> WebBaseLoader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-23", "text": "class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;https://lilianweng.github.io/posts/2023-06-23-agent/&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">index </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> VectorstoreIndexCreator</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_loaders</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">loader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24", "source": "websites\\index.html"}
{"id": "d434a5f50e88-24", "text": "class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/document_loaders/langchain.document_loaders.web_base.WebBaseLoader.html\"><span>WebBaseLoader</span></a> <!-- -->from", "source": "websites\\index.html"}
{"id": "d434a5f50e88-25", "text": "<!-- -->from <code>langchain.document_loaders</code></li><li><a href=\"https://api.python.langchain.com/en/latest/indexes/langchain.indexes.vectorstore.VectorstoreIndexCreator.html\"><span>VectorstoreIndexCreator</span></a> <!-- -->from <code>langchain.indexes</code></li></ul></div><p>And now ask your questions:</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">index</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">query</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;What is Task Decomposition?&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0", "source": "websites\\index.html"}
{"id": "d434a5f50e88-26", "text": "0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">&#x27; Task decomposition is a technique used to break down complex tasks into smaller and simpler steps. It can be done using LLM with simple prompting, task-specific instructions, or human inputs. Tree of Thoughts (Yao et al. 2023) is an example of a task decomposition technique that explores multiple reasoning possibilities at each step and generates multiple thoughts per step, creating a tree structure.&#x27;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span", "source": "websites\\index.html"}
{"id": "d434a5f50e88-27", "text": "aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>Ok, but what&#x27;s going on under the hood, and how could we customize this for our specific use case? For that, let&#x27;s take a look at how we can construct this pipeline piece by piece.</p><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"step-1-load\">Step 1. Load<a href=\"#step-1-load\" class=\"hash-link\" aria-label=\"Direct link to Step 1. Load\" title=\"Direct link to Step 1. Load\">\u200b</a></h2><p>Specify a <code>DocumentLoader</code> to load in your unstructured data as <code>Documents</code>.", "source": "websites\\index.html"}
{"id": "d434a5f50e88-28", "text": "to load in your unstructured data as <code>Documents</code>. A <code>Document</code> is a piece of text (the <code>page_content</code>) and associated metadata.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">document_loaders </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> WebBaseLoader</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">loader </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> WebBaseLoader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-29", "text": "class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;https://lilianweng.github.io/posts/2023-06-23-agent/&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">data </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> loader</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">load</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0", "source": "websites\\index.html"}
{"id": "d434a5f50e88-30", "text": "19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/document_loaders/langchain.document_loaders.web_base.WebBaseLoader.html\"><span>WebBaseLoader</span></a> <!-- -->from <code>langchain.document_loaders</code></li></ul></div><h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"go-deeper\">Go deeper<a href=\"#go-deeper\" class=\"hash-link\" aria-label=\"Direct link to Go deeper\" title=\"Direct link to Go deeper\">\u200b</a></h3><ul><li>Browse the &gt; 120 data loader integrations <a href=\"https://integrations.langchain.com/\" target=\"_blank\" rel=\"noopener", "source": "websites\\index.html"}
{"id": "d434a5f50e88-31", "text": "<a href=\"https://integrations.langchain.com/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</li><li>See further documentation on loaders <a href=\"/docs/modules/data_connection/document_loaders/\">here</a>.</li></ul><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"step-2-split\">Step 2. Split<a href=\"#step-2-split\" class=\"hash-link\" aria-label=\"Direct link to Step 2. Split\" title=\"Direct link to Step 2. Split\">\u200b</a></h2><p>Split the <code>Document</code> into chunks for embedding and vector storage.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">text_splitter </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> RecursiveCharacterTextSplitter</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">text_splitter", "source": "websites\\index.html"}
{"id": "d434a5f50e88-32", "text": "style=\"color:#000000\"><span class=\"token plain\">text_splitter </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> RecursiveCharacterTextSplitter</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">chunk_size </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">500</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> chunk_overlap </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">all_splits </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> text_splitter</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">split_documents</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token", "source": "websites\\index.html"}
{"id": "d434a5f50e88-33", "text": "81, 165)\">(</span><span class=\"token plain\">data</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) -", "source": "websites\\index.html"}
{"id": "d434a5f50e88-34", "text": "* var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/text_splitter/langchain.text_splitter.RecursiveCharacterTextSplitter.html\"><span>RecursiveCharacterTextSplitter</span></a> <!-- -->from <code>langchain.text_splitter</code></li></ul></div><h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"go-deeper-1\">Go deeper<a href=\"#go-deeper-1\" class=\"hash-link\" aria-label=\"Direct link to Go deeper\" title=\"Direct link to Go deeper\">\u200b</a></h3><ul><li><code>DocumentSplitters</code> are just one type of the more generic <code>DocumentTransformers</code>, which can all be useful in this preprocessing step.</li><li>See further documentation on transformers <a href=\"/docs/modules/data_connection/document_transformers/\">here</a>.</li><li><code>Context-aware splitters</code> keep the location (&quot;context&quot;) of each split in the original <code>Document</code>:<ul><li><a href=\"/docs/use_cases/question_answering/document-context-aware-QA\">Markdown files</a></li><li><a href=\"/docs/modules/data_connection/document_loaders/integrations/source_code\">Code (py or js)</a></li><li><a", "source": "websites\\index.html"}
{"id": "d434a5f50e88-35", "text": "(py or js)</a></li><li><a href=\"/docs/modules/data_connection/document_loaders/integrations/grobid\">Documents</a></li></ul></li></ul><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"step-3-store\">Step 3. Store<a href=\"#step-3-store\" class=\"hash-link\" aria-label=\"Direct link to Step 3. Store\" title=\"Direct link to Step 3. Store\">\u200b</a></h2><p>To be able to look up our document splits, we first need to store them where we can later look them up.", "source": "websites\\index.html"}
{"id": "d434a5f50e88-36", "text": "The most common way to do this is to embed the contents of each document then store the embedding and document in a vector store, with the embedding being used to index the document.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">embeddings </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> OpenAIEmbeddings</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">vectorstores </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> Chroma</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-37", "text": "class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">vectorstore </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> Chroma</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_documents</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">documents</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">all_splits</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> embedding</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">OpenAIEmbeddings</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0", "source": "websites\\index.html"}
{"id": "d434a5f50e88-38", "text": "aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/embeddings/langchain.embeddings.openai.OpenAIEmbeddings.html\"><span>OpenAIEmbeddings</span></a> <!-- -->from", "source": "websites\\index.html"}
{"id": "d434a5f50e88-39", "text": "<!-- -->from <code>langchain.embeddings</code></li><li><a href=\"https://api.python.langchain.com/en/latest/vectorstores/langchain.vectorstores.chroma.Chroma.html\"><span>Chroma</span></a> <!-- -->from <code>langchain.vectorstores</code></li></ul></div><h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"go-deeper-2\">Go deeper<a href=\"#go-deeper-2\" class=\"hash-link\" aria-label=\"Direct link to Go deeper\" title=\"Direct link to Go deeper\">\u200b</a></h3><ul><li><p>Browse the &gt; 40 vectorstores integrations <a href=\"https://integrations.langchain.com/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p></li><li><p>See further documentation on vectorstores <a href=\"/docs/modules/data_connection/vectorstores/\">here</a>.</p></li><li><p>Browse the &gt; 30 text embedding integrations <a href=\"https://integrations.langchain.com/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p></li><li><p>See further documentation on embedding models <a href=\"/docs/modules/data_connection/text_embedding/\">here</a>.</p><p>Here are Steps 1-3:</p></li></ul><p><img loading=\"lazy\" alt=\"lc.png\" src=\"/assets/images/qa_data_load-70fac3ea6593b986613784dc056df21a.png\" width=\"1578\" height=\"809\" class=\"img_ev3q\"></p><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"step-4-retrieve\">Step 4. Retrieve<a href=\"#step-4-retrieve\" class=\"hash-link\" aria-label=\"Direct link to Step 4.", "source": "websites\\index.html"}
{"id": "d434a5f50e88-40", "text": "class=\"hash-link\" aria-label=\"Direct link to Step 4. Retrieve\" title=\"Direct link to Step 4. Retrieve\">\u200b</a></h2><p>Retrieve relevant splits for any question using <a href=\"https://www.pinecone.io/learn/what-is-similarity-search/\" target=\"_blank\" rel=\"noopener noreferrer\">similarity search</a>.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">question </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;What are the approaches to Task Decomposition?&quot;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docs </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> vectorstore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">similarity_search</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">question</span><span class=\"token punctuation\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-41", "text": "class=\"token plain\">question</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token builtin\" style=\"color:rgb(0, 112, 193)\">len</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">docs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path", "source": "websites\\index.html"}
{"id": "d434a5f50e88-42", "text": "viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">4</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path", "source": "websites\\index.html"}
{"id": "d434a5f50e88-43", "text": "viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"go-deeper-3\">Go deeper<a href=\"#go-deeper-3\" class=\"hash-link\" aria-label=\"Direct link to Go deeper\" title=\"Direct link to Go deeper\">\u200b</a></h3><p>Vectorstores are commonly used for retrieval, but they are not the only option. For example, SVMs (see thread <a href=\"https://twitter.com/karpathy/status/1647025230546886658?s=20\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>) can also be used.</p><p>LangChain <a href=\"/docs/modules/data_connection/retrievers/\">has many retrievers</a> including, but not limited to, vectorstores. All retrievers implement a common method <code>get_relevant_documents()</code> (and its asynchronous variant <code>aget_relevant_documents()</code>).</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span", "source": "websites\\index.html"}
{"id": "d434a5f50e88-44", "text": "255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">retrievers </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> SVMRetriever</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">svm_retriever </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SVMRetriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_documents</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">all_splits</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">OpenAIEmbeddings</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token", "source": "websites\\index.html"}
{"id": "d434a5f50e88-45", "text": "class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docs_svm</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">svm_retriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">get_relevant_documents</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">question</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token builtin\" style=\"color:rgb(0, 112, 193)\">len</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">docs_svm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2", "source": "websites\\index.html"}
{"id": "d434a5f50e88-46", "text": "0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/retrievers/langchain.retrievers.svm.SVMRetriever.html\"><span>SVMRetriever</span></a> <!-- -->from <code>langchain.retrievers</code></li></ul></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-47", "text": "class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">4</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>Some common ways to improve on vector similarity search include:</p><ul><li><code>MultiQueryRetriever</code> <a href=\"/docs/modules/data_connection/retrievers/MultiQueryRetriever\">generates variants of the input question</a> to improve", "source": "websites\\index.html"}
{"id": "d434a5f50e88-48", "text": "variants of the input question</a> to improve retrieval.</li><li><code>Max marginal relevance</code> selects for <a href=\"https://www.cs.cmu.edu/~jgc/publication/The_Use_MMR_Diversity_Based_LTMIR_1998.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">relevance and diversity</a> among the retrieved documents.</li><li>Documents can be filtered during retrieval using <a href=\"/docs/use_cases/question_answering/how_to/document-context-aware-QA\"><code>metadata</code> filters</a>.</li></ul><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> logging</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">chat_models </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span", "source": "websites\\index.html"}
{"id": "d434a5f50e88-49", "text": "style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> ChatOpenAI</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">retrievers</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">multi_query </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> MultiQueryRetriever</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">logging</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">basicConfig</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">logging</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token", "source": "websites\\index.html"}
{"id": "d434a5f50e88-50", "text": "81, 165)\">.</span><span class=\"token plain\">getLogger</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&#x27;langchain.retrievers.multi_query&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">setLevel</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">logging</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">INFO</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">retriever_from_llm </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> MultiQueryRetriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token", "source": "websites\\index.html"}
{"id": "d434a5f50e88-51", "text": "81, 165)\">(</span><span class=\"token plain\">retriever</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">vectorstore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">as_retriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                                                  llm</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">ChatOpenAI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">temperature</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-52", "text": "81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">unique_docs </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> retriever_from_llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">get_relevant_documents</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">query</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">question</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token builtin\" style=\"color:rgb(0, 112, 193)\">len</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">unique_docs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-53", "text": "title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a", "source": "websites\\index.html"}
{"id": "d434a5f50e88-54", "text": "Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/chat_models/langchain.chat_models.openai.ChatOpenAI.html\"><span>ChatOpenAI</span></a> <!-- -->from <code>langchain.chat_models</code></li><li><a href=\"https://api.python.langchain.com/en/latest/retrievers/langchain.retrievers.multi_query.MultiQueryRetriever.html\"><span>MultiQueryRetriever</span></a> <!-- -->from <code>langchain.retrievers.multi_query</code></li></ul></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">INFO:langchain.retrievers.multi_query:Generated queries: [&#x27;1. How can Task Decomposition be approached?&#x27;, &#x27;2. What are the different methods for Task Decomposition?&#x27;, &#x27;3. What are the various approaches to decomposing tasks?&#x27;]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">5</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24", "source": "websites\\index.html"}
{"id": "d434a5f50e88-55", "text": "class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"step-5-generate\">Step 5. Generate<a href=\"#step-5-generate\" class=\"hash-link\" aria-label=\"Direct link to Step 5. Generate\" title=\"Direct link to Step 5. Generate\">\u200b</a></h2><p>Distill the retrieved documents into an answer using an LLM/Chat model (e.g., <code>gpt-3.5-turbo</code>) with <code>RetrievalQA</code> chain.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python", "source": "websites\\index.html"}
{"id": "d434a5f50e88-56", "text": "class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">chains </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> RetrievalQA</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">chat_models </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> ChatOpenAI</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">llm </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> ChatOpenAI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-57", "text": "class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">model_name</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;gpt-3.5-turbo&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> temperature</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">qa_chain </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> RetrievalQA</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_chain_type</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">retriever</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span", "source": "websites\\index.html"}
{"id": "d434a5f50e88-58", "text": "style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">vectorstore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">as_retriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">qa_chain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;query&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> question</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24", "source": "websites\\index.html"}
{"id": "d434a5f50e88-59", "text": "class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/chains/langchain.chains.retrieval_qa.base.RetrievalQA.html\"><span>RetrievalQA</span></a> <!-- -->from", "source": "websites\\index.html"}
{"id": "d434a5f50e88-60", "text": "<!-- -->from <code>langchain.chains</code></li><li><a href=\"https://api.python.langchain.com/en/latest/chat_models/langchain.chat_models.openai.ChatOpenAI.html\"><span>ChatOpenAI</span></a> <!-- -->from <code>langchain.chat_models</code></li></ul></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">{</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    &#x27;query&#x27;: &#x27;What are the approaches to Task Decomposition?&#x27;,</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    &#x27;result&#x27;: &#x27;The approaches to task decomposition include:\\n\\n1. Simple prompting: This approach involves using simple prompts or questions to guide the agent in breaking down a task into smaller subgoals. For example, the agent can be prompted with &quot;Steps for XYZ&quot; and asked to list the subgoals for achieving XYZ.\\n\\n2. Task-specific instructions: In this approach, task-specific instructions are provided to the agent to guide the decomposition process. For example, if the task is to write a novel, the agent can be instructed to &quot;Write a story outline&quot; as a subgoal.\\n\\n3. Human inputs: This approach involves incorporating human inputs", "source": "websites\\index.html"}
{"id": "d434a5f50e88-61", "text": "as a subgoal.\\n\\n3. Human inputs: This approach involves incorporating human inputs in the task decomposition process. Humans can provide guidance, feedback, and suggestions to help the agent break down complex tasks into manageable subgoals.\\n\\nThese approaches aim to enable efficient handling of complex tasks by breaking them down into smaller, more manageable parts.&#x27;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>Note, you can pass in an <code>LLM</code> or a", "source": "websites\\index.html"}
{"id": "d434a5f50e88-62", "text": "you can pass in an <code>LLM</code> or a <code>ChatModel</code> (like we did here) to the <code>RetrievalQA</code> chain.</p><h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"go-deeper-4\">Go deeper<a href=\"#go-deeper-4\" class=\"hash-link\" aria-label=\"Direct link to Go deeper\" title=\"Direct link to Go deeper\">\u200b</a></h3><h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"choosing-llms\">Choosing LLMs<a href=\"#choosing-llms\" class=\"hash-link\" aria-label=\"Direct link to Choosing LLMs\" title=\"Direct link to Choosing LLMs\">\u200b</a></h4><ul><li><p>Browse the &gt; 55 LLM and chat model integrations <a href=\"https://integrations.langchain.com/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p></li><li><p>See further documentation on LLMs and chat models <a href=\"/docs/modules/model_io/models/\">here</a>.</p></li><li><p>Use local LLMS: The popularity of <a href=\"https://github.com/imartinez/privateGPT\" target=\"_blank\" rel=\"noopener noreferrer\">PrivateGPT</a> and <a href=\"https://github.com/nomic-ai/gpt4all\" target=\"_blank\" rel=\"noopener noreferrer\">GPT4All</a> underscore the importance of running LLMs locally.", "source": "websites\\index.html"}
{"id": "d434a5f50e88-63", "text": "Using <code>GPT4All</code> is as simple as <a href=\"/docs/use_cases/question_answering/(/docs/integrations/llms/gpt4all)\">downloading the binary</a> and then:</p><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">from langchain.llms import GPT4All</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">from langchain.chains import RetrievalQA</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">llm = GPT4All(model=&quot;/Users/rlm/Desktop/Code/gpt4all/models/nous-hermes-13b.ggmlv3.q4_0.bin&quot;,max_tokens=2048)</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">qa_chain = RetrievalQA.from_chain_type(llm, retriever=vectorstore.as_retriever())</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-64", "text": "title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div></li></ul><h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"customizing-the-prompt\">Customizing the prompt<a href=\"#customizing-the-prompt\" class=\"hash-link\" aria-label=\"Direct link to Customizing the prompt\" title=\"Direct link to Customizing the prompt\">\u200b</a></h4><p>The prompt in <code>RetrievalQA</code> chain can be easily customized.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python", "source": "websites\\index.html"}
{"id": "d434a5f50e88-65", "text": "class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">chains </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> RetrievalQA</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">prompts </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> PromptTemplate</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">template </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token triple-quoted-string string\" style=\"color:rgb(163, 21,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-66", "text": "class=\"token triple-quoted-string string\" style=\"color:rgb(163, 21, 21)\">&quot;&quot;&quot;Use the following pieces of context to answer the question at the end. </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token triple-quoted-string string\" style=\"color:rgb(163, 21, 21)\">If you don&#x27;t know the answer, just say that you don&#x27;t know, don&#x27;t try to make up an answer. </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token triple-quoted-string string\" style=\"color:rgb(163, 21, 21)\">Use three sentences maximum and keep the answer as concise as possible. </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token triple-quoted-string string\" style=\"color:rgb(163, 21, 21)\">Always say &quot;thanks for asking!&quot; at the end of the answer. </span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token triple-quoted-string string\" style=\"color:rgb(163, 21, 21)\">{context}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token triple-quoted-string string\" style=\"color:rgb(163, 21, 21)\">Question: {question}</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token triple-quoted-string string\" style=\"color:rgb(163, 21, 21)\">Helpful Answer:&quot;&quot;&quot;</span><span class=\"token", "source": "websites\\index.html"}
{"id": "d434a5f50e88-67", "text": "21)\">Helpful Answer:&quot;&quot;&quot;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">QA_CHAIN_PROMPT </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> PromptTemplate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_template</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">template</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">llm </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> ChatOpenAI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">model_name</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;gpt-3.5-turbo&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-68", "text": "class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> temperature</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">qa_chain </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> RetrievalQA</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_chain_type</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    retriever</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">vectorstore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token", "source": "websites\\index.html"}
{"id": "d434a5f50e88-69", "text": "81, 165)\">.</span><span class=\"token plain\">as_retriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    chain_type_kwargs</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;prompt&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> QA_CHAIN_PROMPT</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> qa_chain</span><span class=\"token punctuation\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-70", "text": "class=\"token plain\"> qa_chain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;query&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> question</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;result&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0", "source": "websites\\index.html"}
{"id": "d434a5f50e88-71", "text": "0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/chains/langchain.chains.retrieval_qa.base.RetrievalQA.html\"><span>RetrievalQA</span></a> <!-- -->from <code>langchain.chains</code></li><li><a href=\"https://api.python.langchain.com/en/latest/prompts/langchain.prompts.prompt.PromptTemplate.html\"><span>PromptTemplate</span></a> <!-- -->from", "source": "websites\\index.html"}
{"id": "d434a5f50e88-72", "text": "<!-- -->from <code>langchain.prompts</code></li></ul></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">&#x27;The approaches to Task Decomposition are (1) using simple prompting by LLM, (2) using task-specific instructions, and (3) with human inputs. Thanks for asking!&#x27;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path", "source": "websites\\index.html"}
{"id": "d434a5f50e88-73", "text": "viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"return-source-documents\">Return source documents<a href=\"#return-source-documents\" class=\"hash-link\" aria-label=\"Direct link to Return source documents\" title=\"Direct link to Return source documents\">\u200b</a></h4><p>The full set of retrieved documents used for answer distillation can be returned using <code>return_source_documents=True</code>.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">chains </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> RetrievalQA</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-74", "text": "plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">qa_chain </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> RetrievalQA</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_chain_type</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">retriever</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">vectorstore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">as_retriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                                       return_source_documents</span><span class=\"token", "source": "websites\\index.html"}
{"id": "d434a5f50e88-75", "text": "return_source_documents</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> qa_chain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;query&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> question</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">print</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token builtin\" style=\"color:rgb(0, 112,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-76", "text": "class=\"token builtin\" style=\"color:rgb(0, 112, 193)\">len</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&#x27;source_documents&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&#x27;source_documents&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-77", "text": "type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a", "source": "websites\\index.html"}
{"id": "d434a5f50e88-78", "text": "Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/chains/langchain.chains.retrieval_qa.base.RetrievalQA.html\"><span>RetrievalQA</span></a> <!-- -->from <code>langchain.chains</code></li></ul></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">Document(page_content=&#x27;Task decomposition can be done (1) by LLM with simple prompting like &quot;Steps for XYZ.\\\\n1.&quot;, &quot;What are the subgoals for achieving XYZ?&quot;, (2) by using task-specific instructions; e.g. &quot;Write a story outline.&quot; for writing a novel, or (3) with human inputs.&#x27;, metadata={&#x27;source&#x27;: &#x27;https://lilianweng.github.io/posts/2023-06-23-agent/&#x27;, &#x27;title&#x27;: &quot;LLM Powered Autonomous Agents | Lil&#x27;Log&quot;, &#x27;description&#x27;: &#x27;Building agents with LLM (large language model) as its core controller is a cool concept. Several proof-of-concepts demos, such as AutoGPT,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-79", "text": "core controller is a cool concept. Several proof-of-concepts demos, such as AutoGPT, GPT-Engineer and BabyAGI, serve as inspiring examples. The potentiality of LLM extends beyond generating well-written copies, stories, essays and programs; it can be framed as a powerful general problem solver.\\nAgent System Overview In a LLM-powered autonomous agent system, LLM functions as the agent\u2019s brain, complemented by several key components:&#x27;, &#x27;language&#x27;: &#x27;en&#x27;})</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h4 class=\"anchor", "source": "websites\\index.html"}
{"id": "d434a5f50e88-80", "text": "class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"return-citations\">Return citations<a href=\"#return-citations\" class=\"hash-link\" aria-label=\"Direct link to Return citations\" title=\"Direct link to Return citations\">\u200b</a></h4><p>Answer citations can be returned using <code>RetrievalQAWithSourcesChain</code>.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">chains </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> RetrievalQAWithSourcesChain</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">qa_chain </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> RetrievalQAWithSourcesChain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span", "source": "websites\\index.html"}
{"id": "d434a5f50e88-81", "text": "punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_chain_type</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">retriever</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">vectorstore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">as_retriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> qa_chain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token string\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-82", "text": "81, 165)\">{</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;question&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> question</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path", "source": "websites\\index.html"}
{"id": "d434a5f50e88-83", "text": "viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/chains/langchain.chains.qa_with_sources.retrieval.RetrievalQAWithSourcesChain.html\"><span>RetrievalQAWithSourcesChain</span></a> <!-- -->from <code>langchain.chains</code></li></ul></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">{</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">", "source": "websites\\index.html"}
{"id": "d434a5f50e88-84", "text": "style=\"color:#000000\"><span class=\"token plain\">    &#x27;question&#x27;: &#x27;What are the approaches to Task Decomposition?&#x27;,</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    &#x27;answer&#x27;: &#x27;The approaches to Task Decomposition include (1) using LLM with simple prompting, (2) using task-specific instructions, and (3) incorporating human inputs.\\n&#x27;,</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    &#x27;sources&#x27;: &#x27;https://lilianweng.github.io/posts/2023-06-23-agent/&#x27;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0", "source": "websites\\index.html"}
{"id": "d434a5f50e88-85", "text": "19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"customizing-retrieved-document-processing\">Customizing retrieved document processing<a href=\"#customizing-retrieved-document-processing\" class=\"hash-link\" aria-label=\"Direct link to Customizing retrieved document processing\" title=\"Direct link to Customizing retrieved document processing\">\u200b</a></h4><p>Retrieved documents can be fed to an LLM for answer distillation in a few different ways.</p><p><code>stuff</code>, <code>refine</code>, <code>map-reduce</code>, and <code>map-rerank</code> chains for passing documents to an LLM prompt are well summarized <a href=\"/docs/modules/chains/document/\">here</a>.</p><p><code>stuff</code> is commonly used because it simply &quot;stuffs&quot; all retrieved documents into the prompt.</p><p>The <a href=\"/docs/use_cases/question_answering/how_to/question_answering.html\">load_qa_chain</a> is an easy way to pass documents to an LLM using these various approaches (e.g., see <code>chain_type</code>).</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-86", "text": "class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">chains</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">question_answering </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> load_qa_chain</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">chain </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> load_qa_chain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> chain_type</span><span class=\"token", "source": "websites\\index.html"}
{"id": "d434a5f50e88-87", "text": "class=\"token plain\"> chain_type</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;stuff&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">chain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;input_documents&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> unique_docs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;question&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> question</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">return_only_outputs</span><span class=\"token operator\" style=\"color:rgb(0, 0,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-88", "text": "class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) -", "source": "websites\\index.html"}
{"id": "d434a5f50e88-89", "text": "* var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/chains/langchain.chains.question_answering.load_qa_chain.html\"><span>load_qa_chain</span></a> <!-- -->from <code>langchain.chains.question_answering</code></li></ul></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">{&#x27;output_text&#x27;: &#x27;The approaches to task decomposition include (1) using simple prompting to break down tasks into subgoals, (2) providing task-specific instructions to guide the decomposition process, and (3) incorporating human inputs for task decomposition.&#x27;}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path", "source": "websites\\index.html"}
{"id": "d434a5f50e88-90", "text": "class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>We can also pass the <code>chain_type</code> to <code>RetrievalQA</code>.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">qa_chain </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> RetrievalQA</span><span class=\"token punctuation\" style=\"color:rgb(4, 81,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-91", "text": "class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_chain_type</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">retriever</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">vectorstore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">as_retriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                                       chain_type</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;stuff&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token", "source": "websites\\index.html"}
{"id": "d434a5f50e88-92", "text": "81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> qa_chain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;query&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> question</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2", "source": "websites\\index.html"}
{"id": "d434a5f50e88-93", "text": "0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>In summary, the user can choose the desired level of abstraction for QA:</p><p><img loading=\"lazy\" alt=\"summary_chains.png\" src=\"/assets/images/summary_chains-593fd101c40fe9b151634e5299d02665.png\" width=\"1690\" height=\"797\" class=\"img_ev3q\"></p><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"step-6-converse-extension\">Step 6. Converse (Extension)<a href=\"#step-6-converse-extension\" class=\"hash-link\" aria-label=\"Direct link to Step 6. Converse (Extension)\" title=\"Direct link to Step 6. Converse (Extension)\">\u200b</a></h2><p>To hold a conversation, a chain needs to be able to refer to past interactions. Chain <code>Memory</code> allows us to do this. To keep chat history, we can specify a Memory buffer to track the conversation inputs / outputs.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python", "source": "websites\\index.html"}
{"id": "d434a5f50e88-94", "text": "class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">memory </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> ConversationBufferMemory</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">memory </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> ConversationBufferMemory</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">memory_key</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;chat_history&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> return_messages</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span", "source": "websites\\index.html"}
{"id": "d434a5f50e88-95", "text": "style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) -", "source": "websites\\index.html"}
{"id": "d434a5f50e88-96", "text": "* var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/memory/langchain.memory.buffer.ConversationBufferMemory.html\"><span>ConversationBufferMemory</span></a> <!-- -->from <code>langchain.memory</code></li></ul></div><p>The <code>ConversationalRetrievalChain</code> uses chat in the <code>Memory buffer</code>. </p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">from</span><span class=\"token plain\"> langchain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">chains </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">import</span><span class=\"token plain\"> ConversationalRetrievalChain</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-97", "text": "class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">retriever </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> vectorstore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">as_retriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">chat </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> ConversationalRetrievalChain</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">from_llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">llm</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> retriever</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">retriever</span><span class=\"token punctuation\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-98", "text": "class=\"token plain\">retriever</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> memory</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">memory</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div", "source": "websites\\index.html"}
{"id": "d434a5f50e88-99", "text": "style=\"padding-top:1.3rem;background:var(--prism-background-color);color:var(--prism-color);margin-top:calc(-1 * var(--ifm-leading) - 5px);margin-bottom:var(--ifm-leading);box-shadow:var(--ifm-global-shadow-lw);border-bottom-left-radius:var(--ifm-code-border-radius);border-bottom-right-radius:var(--ifm-code-border-radius)\"><h4 style=\"padding-left:0.65rem;margin-bottom:0.45rem\">API Reference:</h4><ul style=\"padding-bottom:1rem\"><li><a href=\"https://api.python.langchain.com/en/latest/chains/langchain.chains.conversational_retrieval.base.ConversationalRetrievalChain.html\"><span>ConversationalRetrievalChain</span></a> <!-- -->from <code>langchain.chains</code></li></ul></div><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> chat</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token string\" style=\"color:rgb(163, 21,", "source": "websites\\index.html"}
{"id": "d434a5f50e88-100", "text": "class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;question&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;What are some of the main ideas in self-reflection?&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&#x27;answer&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0", "source": "websites\\index.html"}
{"id": "d434a5f50e88-101", "text": "0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">&quot;Some of the main ideas in self-reflection include:\\n1. Iterative improvement: Self-reflection allows autonomous agents to improve by refining past action decisions and correcting mistakes.\\n2. Trial and error: Self-reflection is crucial in real-world tasks where trial and error are inevitable.\\n3. Two-shot examples: Self-reflection is created by showing pairs of failed trajectories and ideal reflections for guiding future changes in the plan.\\n4. Working memory: Reflections are added to the agent&#x27;s working memory, up to three, to be used as context for querying.\\n5. Performance evaluation: Self-reflection involves continuously reviewing and analyzing actions, self-criticizing behavior, and reflecting on past", "source": "websites\\index.html"}
{"id": "d434a5f50e88-102", "text": "Self-reflection involves continuously reviewing and analyzing actions, self-criticizing behavior, and reflecting on past decisions and strategies to refine approaches.\\n6. Efficiency: Self-reflection encourages being smart and efficient, aiming to complete tasks in the least number of steps.&quot;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>The Memory buffer has context to resolve <code>&quot;it&quot;</code> (&quot;self-reflection&quot;) in the below question.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-103", "text": "below question.</p><div class=\"language-python codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-python codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> chat</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;question&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&quot;How does the Reflexion paper handle it?&quot;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">result</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token string\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-104", "text": "81, 165)\">[</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">&#x27;answer&#x27;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#F5F5F5\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V", "source": "websites\\index.html"}
{"id": "d434a5f50e88-105", "text": "tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">&quot;The Reflexion paper handles self-reflection by showing two-shot examples to the Learning Language Model (LLM). Each example consists of a failed trajectory and an ideal reflection that guides future changes in the agent&#x27;s plan. These reflections are then added to the agent&#x27;s working memory, up to a maximum of three, to be used as context for querying the LLM. This allows the agent to iteratively improve its reasoning skills by refining past action decisions and correcting previous mistakes.&quot;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg class=\"copyButtonIcon_y97N\" viewBox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg class=\"copyButtonSuccessIcon_LjdS\" viewBox=\"0 0 24 24\"><path", "source": "websites\\index.html"}
{"id": "d434a5f50e88-106", "text": "viewBox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"go-deeper-5\">Go deeper<a href=\"#go-deeper-5\" class=\"hash-link\" aria-label=\"Direct link to Go deeper\" title=\"Direct link to Go deeper\">\u200b</a></h3><p>The <a href=\"/docs/use_cases/question_answering/how_to/chat_vector_db\">documentation</a> on <code>ConversationalRetrievalChain</code> offers a few extensions, such as streaming and source documents.</p><h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"further-reading\">Further reading<a href=\"#further-reading\" class=\"hash-link\" aria-label=\"Direct link to Further reading\" title=\"Direct link to Further reading\">\u200b</a></h2><ul><li>Check out the <a href=\"/docs/use_cases/question_answer/how_to/\">How to</a> section for all the variations of chains that can be used for QA over docs in different settings.</li><li>Check out the <a href=\"/docs/use_cases/question_answer/integrations/\">Integrations-specific</a> section for chains that use specific integrations.</li></ul></div></article><nav class=\"pagination-nav docusaurus-mt-lg\" aria-label=\"Docs pages navigation\"><a class=\"pagination-nav__link pagination-nav__link--prev\" href=\"/docs/use_cases\"><div class=\"pagination-nav__sublabel\">Previous</div><div class=\"pagination-nav__label\">Use cases</div></a><a", "source": "websites\\index.html"}
{"id": "d434a5f50e88-107", "text": "class=\"pagination-nav__label\">Use cases</div></a><a class=\"pagination-nav__link pagination-nav__link--next\" href=\"/docs/use_cases/question_answering/how_to/vector_db_qa\"><div class=\"pagination-nav__sublabel\">Next</div><div class=\"pagination-nav__label\">QA using a Retriever</div></a></nav></div></div><div class=\"col col--3\"><div class=\"tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop\"><ul class=\"table-of-contents table-of-contents__left-border\"><li><a href=\"#use-case\" class=\"table-of-contents__link toc-highlight\">Use case</a></li><li><a href=\"#overview\" class=\"table-of-contents__link toc-highlight\">Overview</a></li><li><a href=\"#quickstart\" class=\"table-of-contents__link toc-highlight\">Quickstart</a></li><li><a href=\"#step-1-load\" class=\"table-of-contents__link toc-highlight\">Step 1. Load</a><ul><li><a href=\"#go-deeper\" class=\"table-of-contents__link toc-highlight\">Go deeper</a></li></ul></li><li><a href=\"#step-2-split\" class=\"table-of-contents__link toc-highlight\">Step 2. Split</a><ul><li><a href=\"#go-deeper-1\" class=\"table-of-contents__link toc-highlight\">Go deeper</a></li></ul></li><li><a href=\"#step-3-store\" class=\"table-of-contents__link toc-highlight\">Step 3. Store</a><ul><li><a href=\"#go-deeper-2\" class=\"table-of-contents__link toc-highlight\">Go deeper</a></li></ul></li><li><a href=\"#step-4-retrieve\"", "source": "websites\\index.html"}
{"id": "d434a5f50e88-108", "text": "href=\"#step-4-retrieve\" class=\"table-of-contents__link toc-highlight\">Step 4. Retrieve</a><ul><li><a href=\"#go-deeper-3\" class=\"table-of-contents__link toc-highlight\">Go deeper</a></li></ul></li><li><a href=\"#step-5-generate\" class=\"table-of-contents__link toc-highlight\">Step 5. Generate</a><ul><li><a href=\"#go-deeper-4\" class=\"table-of-contents__link toc-highlight\">Go deeper</a></li></ul></li><li><a href=\"#step-6-converse-extension\" class=\"table-of-contents__link toc-highlight\">Step 6. Converse (Extension)</a><ul><li><a href=\"#go-deeper-5\" class=\"table-of-contents__link toc-highlight\">Go deeper</a></li></ul></li><li><a href=\"#further-reading\" class=\"table-of-contents__link toc-highlight\">Further reading</a></li></ul></div></div></div></div></main></div></div><footer class=\"footer\"><div class=\"container container-fluid\"><div class=\"row footer__links\"><div class=\"col footer__col\"><div class=\"footer__title\">Community</div><ul class=\"footer__items clean-list\"><li class=\"footer__item\"><a href=\"https://discord.gg/cU2adEyC7w\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Discord<svg width=\"13.5\" height=\"13.5\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21", "source": "websites\\index.html"}
{"id": "d434a5f50e88-109", "text": "class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"></path></svg></a></li><li class=\"footer__item\"><a href=\"https://twitter.com/LangChainAI\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Twitter<svg width=\"13.5\" height=\"13.5\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"></path></svg></a></li></ul></div><div class=\"col footer__col\"><div class=\"footer__title\">GitHub</div><ul class=\"footer__items clean-list\"><li class=\"footer__item\"><a href=\"https://github.com/hwchase17/langchain\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Python<svg width=\"13.5\" height=\"13.5\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21", "source": "websites\\index.html"}
{"id": "d434a5f50e88-110", "text": "class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"></path></svg></a></li><li class=\"footer__item\"><a href=\"https://github.com/hwchase17/langchainjs\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">JS/TS<svg width=\"13.5\" height=\"13.5\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"></path></svg></a></li></ul></div><div class=\"col footer__col\"><div class=\"footer__title\">More</div><ul class=\"footer__items clean-list\"><li class=\"footer__item\"><a href=\"https://langchain.com\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Homepage<svg width=\"13.5\" height=\"13.5\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21", "source": "websites\\index.html"}
{"id": "d434a5f50e88-111", "text": "class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"></path></svg></a></li><li class=\"footer__item\"><a href=\"https://blog.langchain.dev\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"footer__link-item\">Blog<svg width=\"13.5\" height=\"13.5\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" class=\"iconExternalLink_nPIU\"><path fill=\"currentColor\" d=\"M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z\"></path></svg></a></li></ul></div></div><div class=\"footer__bottom text--center\"><div class=\"footer__copyright\">Copyright \u00a9 2023 LangChain, Inc.</div></div></div></footer></div>", "source": "websites\\index.html"}
{"id": "d434a5f50e88-112", "text": "<script src=\"/assets/js/runtime~main.28f57478.js\"></script>\n<script src=\"/assets/js/main.b8aa3676.js\"></script>\n</body>\n</html>", "source": "websites\\index.html"}
